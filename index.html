<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="Access GPT models without giving away your data.">
    <link data-trunk rel="rust" data-cargo-features="hydration">
    <link data-trunk rel="icon" href="./public/favicon.ico">
    <link data-trunk rel="tailwind-css" href="./public/tailwind.css">
    <title>LibreGPT - A GPT front-end built for privacy</title>
    <script>
      const darkModePreference = window.matchMedia("(prefers-color-scheme: dark)");

      function setTheme() {
        if (localStorage.theme === "dark" || (!("theme" in localStorage) && darkModePreference.matches)) {
          document.documentElement.classList.add("dark");
        } else {
          document.documentElement.classList.remove("dark");
        }
      }

      function updateThemeSwitcher() {
        for (const button of document.getElementsByClassName("theme-switcher-button")) {
          button.setAttribute("aria-checked", (button.dataset.theme ? button.dataset.theme === localStorage.theme : !("theme" in localStorage)).toString());
        }
      }

      window.onload = updateThemeSwitcher;
      darkModePreference.onchange = setTheme;

      setTheme();
    </script>
  </head>
</html>
